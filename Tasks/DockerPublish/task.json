{
  "id": "639B8E0C-2C2C-41E7-B822-4D03AEFCB92B",
  "name": "DockerPublish",
  "friendlyName": "(deprecated) Docker Publish",
  "description": "Invokes the VS Tools for Docker script with optional overrides",
  "author": "Colin Dembovsky (colinsalmcorner.com)",
  "helpMarkDown": "[More Information](https://github.com/colindembovsky/cols-agent-tasks/tree/master/Tasks/DockerPublish)",
  "category": "Build",
  "visibility": [
    "Build",
    "Release"
  ],
  "demands": [],
  "deprecated": true,
  "version": {
    "Major": "0",
    "Minor": "1",
    "Patch": "37"
  },
  "instanceNameFormat": "Docker Publish",
  "groups": [
    {
      "name": "build",
      "displayName": "Docker Build Options",
      "isExpanded": false
    },
    {
      "name": "publish",
      "displayName": "Publish Options",
      "isExpanded": false
    },
    {
      "name": "advanced",
      "displayName": "Advanced",
      "isExpanded": false
    }
  ],
  "inputs": [
    {
      "name": "pathToPubxml",
      "type": "filePath",
      "label": "Path to Pubxml",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Path to the pubxml file (if you have one). Options below override the values in this file."
    },
    {
      "name": "pathToDockerfile",
      "type": "filePath",
      "label": "Path to Dockerfile",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Path to the Dockerfile to use. NOTE: Overrides the Dockerfile path in the pubxml (if you have one)"
    },
    {
      "name": "packOutput",
      "type": "string",
      "label": "Pack Output Path",
      "defaultValue": "",
      "required": true,
      "helpMarkDown": "Path to the built output to publish in the container."
    },
    {
      "name": "serverUrl",
      "type": "string",
      "label": "Docker Server URL",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Docker server URL. Leave blank to take pubxml value.",
      "groupName": "build"
    },
    {
      "name": "imageName",
      "type": "string",
      "label": "Docker image name",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Name for the Docker image. Leave blank to take pubxml value.",
      "groupName": "build" 
    },
    {
      "name": "buildOnly",
      "type": "boolean",
      "label": "Build only",
      "defaultValue": false,
      "required": false,
      "helpMarkDown": "If checked, just run 'Docker build'. Otherwise, start a container from the image. Leave blank to take pubxml value.",
      "groupName": "build"
    },
    {
      "name": "hostPort",
      "type": "string",
      "label": "Host Port",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Port to open on the Docker host. Leave blank to take pubxml value.",
      "groupName": "publish"
    },
    {
      "name": "containerPort",
      "type": "string",
      "label": "Container Port",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Port to open on the container. Leave blank to take pubxml value.",
      "groupName": "publish" 
    },
    {
      "name": "runOptions",
      "type": "string",
      "label": "Run Options",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Specify run options. Leave blank to take pubxml value.",
      "groupName": "publish" 
    },
    {
      "name": "appType",
      "type": "string",
      "label": "App Type",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Set to Web if this is an ASP.NET web app (sets environment options for kestrel). Leave blank to take pubxml value.",
      "groupName": "publish" 
    },
    {
      "name": "isWindowsContainer",
      "type": "string",
      "label": "Create Windows Container",
      "defaultValue": "false",
      "required": false,
      "helpMarkDown": "Set to true if this is a Windows Container. Leave blank to take pubxml value.",
      "groupName": "publish" 
    },
    {
      "name": "authOptions",
      "type": "string",
      "label": "Auth Options",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Use to specify auth options for your Docker server. Leave blank to take pubxml value.",
      "groupName": "advanced" 
    },
    {
      "name": "removeConflictingContainers",
      "type": "string",
      "label": "Remove Conflicting Containers",
      "defaultValue": "",
      "required": false,
      "helpMarkDown": "Remove conflicting containers. Leave blank to take pubxml value.",
      "groupName": "advanced" 
    }
  ],
  "execution": {
    "PowerShell": {
      "target": "$(currentDirectory)\\dockerPublish.ps1",
      "argumentFormat": "",
      "workingDirectory": "$(currentDirectory)"
    }
  }
}